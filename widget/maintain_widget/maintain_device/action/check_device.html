<div id="check-device-form">
  <form
    #checkEntityForm="ngForm"
    [formGroup]="checkEntityFormGroup"
    (ngSubmit)="save()"
    style="font-size: {{calcFontSize()}}px;"
  >
    <div class="dialog-title-box" fxLayoutAlign="space-between center">
      <span class="dialog-title" translate>thingplus.dialog.check-device-title</span>
      <button class="dialog-close" (click)="cancel()" type="button">
        <mat-icon class="material-icons">close</mat-icon>
      </button>
    </div>
    <mat-progress-bar color="warn" mode="indeterminate" *ngIf="isLoading$ | async"> </mat-progress-bar>
    <div style="height: 4px" *ngIf="!(isLoading$ | async)"></div>
    <div mat-dialog-content fxLayout="column" fxLayoutGap="2em">
      <div fxLayout="row">
        <div class="label" fxLayoutAlign="start center" fxLayoutGap="0.4em">
          <i class="material-icons">info</i><span translate>thingplus.dialog.check-device-content</span>
        </div>
      </div>
      <div fxLayout="row" fxLayoutGap="0.8em">
        <div fxFlex="33.33" class="check-box check-box-{{check.index}}" *ngFor="let check of checkList;">
          <div class="check-label-box" fxLayoutAlign="space-between center" fxLayoutGap="0.4em">
            <span>{{check.label}}</span><i class="material-icons">info</i>
          </div>
          <div
            class="check-value"
            [ngClass]="{'normal': check.value, 'abnormal': !check.value}"
            fxLayoutAlign="start center"
          >
            {{check.value ? ('thingplus.state.normal' | translate) : ('thingplus.state.abnormal' | translate) }}
          </div>
        </div>
      </div>
    </div>
    <div mat-dialog-actions fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="1em">
      <button
        class="button close-button"
        [disabled]="(isLoading$ | async)"
        type="button"
        (click)="cancel()"
        cdkFocusInitial
        translate
      >
        thingplus.action.close
      </button>
    </div>
  </form>
</div>
